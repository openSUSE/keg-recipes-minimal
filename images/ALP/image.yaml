image:
  _attributes:
    name: ALP-Dolomite
    displayname: "ALP Dolomite"
    schemaversion: "7.2"
  description:
    _attributes:
      type: system
    specification: "ALP Dolomite"
    author: SUSE
    contact: crc@suse.com
  repository:
    - _attributes:
        type: rpm-md
      source:
        _attributes:
          path: obsrepositories:/
  profiles: 
    profile:
      - _attributes:
          name: Default
          description: "ALP Dolomite with Podman as raw image with uEFI boot"
          arch: x86_64
      - _attributes:
          name: Default-encrypted
          description: "ALP Dolomite with Podman as encrypted raw image with uEFI boot"
          arch: x86_64
      - _attributes:
          name: Default-SelfInstall
          description: "ALP Dolomite with Podman as a SelfInstall ISO image"
          arch: x86_64
      - _attributes:
          name: Default-qcow
          description: "ALP Micro with Podman as qcow2 image with uEFI boot"
          arch: x86_64
  preferences:
    - _attributes:
        profiles: [Default]
      _include:
        - base/bootloader/grub2/arch/x86_64
        - products/suse/ALP/Default
    - _attributes:
        profiles: [Default-encrypted]
      _include:
        - base/bootloader/grub2/arch/x86_64
        - products/suse/ALP/kvm_encrypted
    - _attributes:
        profiles: [Default-SelfInstall]
      _include:
        - base/bootloader/grub2/arch/x86_64
        - products/suse/ALP/SelfInstall
    - _attributes:
        profiles: [Default-qcow]
      _include:
        - base/bootloader/grub2/arch/x86_64
        - products/suse/ALP/qcow
  packages:
    - _attributes:
        type: image
      _include:
        - base/common
        - base/network/NetworkManager
        - base/network/firewalld
        - base/initial-config/microos
        - base/filesystem/btrfs
        - products/suse/ALP/common
    - _attributes:
        type: image
        profiles: [Default-qcow]
      _include:
        - products/suse/ALP/qcow
        - base/virt/kvm
    - _attributes:
        type: image
        profiles: [Default-encrypted]
      _include:
        - products/suse/ALP/kvm_encrypted
    - _attributes:
        type: image
        profiles: [Default, Default-encrypted, Default-SelfInstall, Default-qcow]
      _include:
        - base/kiwi/oem
        - base/kernel/kernel-default
    - _attributes:
        type: bootstrap
      _include:
        - bootstrap/ALP
config:
  - _include:
      - products/suse/ALP
#archive:
#  - name: root.tar.gz
#    _include:
#      - csp/gce/settings/sles/byos
#      - products/sles/byos

